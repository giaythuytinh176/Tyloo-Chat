(function(e){function t(t){for(var n,a,s=t[0],c=t[1],i=t[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(f.length)f.shift()();return u.push.apply(u,i||[]),r()}function r(){for(var e,t=0;t<u.length;t++){for(var r=u[t],n=!0,a=1;a<r.length;a++){var s=r[a];0!==o[s]&&(n=!1)}n&&(u.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},o={app:0},u=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-8fcc33e0":"528d86b9"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={"chunk-8fcc33e0":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-8fcc33e0":"d826d174"}[e]+".css",o=c.p+n,u=document.getElementsByTagName("link"),s=0;s<u.length;s++){var i=u[s],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===n||d===o))return t()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){i=f[s],d=i.getAttribute("data-href");if(d===n||d===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=n,delete a[e],p.parentNode.removeChild(p),r(u)},p.href=o;var g=document.getElementsByTagName("head")[0];g.appendChild(p)})).then((function(){a[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var u=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=u);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(e);var f=new Error;i=function(t){d.onerror=d.onload=null,clearTimeout(p);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",f.name="ChunkLoadError",f.type=n,f.request=a,r[1](f)}o[e]=void 0}};var p=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var f=0;f<i.length;f++)t(i[f]);var p=d;u.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"0613":function(e,t,r){"use strict";var n=r("8bbf"),a=r.n(n),o=r("5880"),u=r.n(o),s=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),c=(r("96cf"),r("3b8d")),i=r("0907"),d=r("48b8"),f=r("946b");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m,l={register:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(f["d"],!0),e.next=4,i["a"].post("/auth/register",g({},r));case 4:if(a=e.sent,o=Object(d["g"])(a),n(f["d"],!1),!o){e.next=11;break}return n(f["g"],o.user),n(f["f"],o.token),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(f["d"],!0),e.next=4,i["a"].post("/auth/login",g({},r));case 4:if(a=e.sent,o=Object(d["g"])(a),n(f["d"],!1),!o){e.next=11;break}return n(f["g"],o.user),n(f["f"],o.token),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},b=l,h=r("a78e"),v=r.n(h),y=(m={},Object(s["a"])(m,f["g"],(function(e,t){e.user=t,v.a.set("user",t,{expires:3650})})),Object(s["a"])(m,f["a"],(function(e){e.user={userId:"",username:"",password:"",avatar:"",createTime:0},v.a.set("user",""),v.a.set("token","")})),Object(s["a"])(m,f["f"],(function(e,t){e.token=t,v.a.set("token",t,{expires:3})})),Object(s["a"])(m,f["e"],(function(e,t){e.mobile=t})),Object(s["a"])(m,f["c"],(function(e,t){e.background=t,localStorage.setItem("background",t)})),Object(s["a"])(m,f["b"],(function(e,t){e.activeTabName=t})),Object(s["a"])(m,f["d"],(function(e,t){e.loading=t})),m),I=y,O={user:function(e){e.user;var t=v.a.get("user");return t?(e.user=JSON.parse(t),e.user):{}},mobile:function(e){return e.mobile},background:function(e){return e.background,localStorage.getItem("background")},activeTabName:function(e){return e.activeTabName},token:function(e){return e.token},apiUrl:function(e){return e.apiUrl},loading:function(e){return e.loading}},j=O,k={user:{userId:"",username:"",password:"",avatar:"",createTime:0},token:v.a.get("token"),mobile:!1,background:"",activeTabName:"message",apiUrl:"http://localhost:3000",loading:!1},w=k,G={namespaced:!0,state:w,mutations:I,actions:b,getters:j},_=G,x=(r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("7f7f"),r("6b54"),r("7514"),r("8615"),r("6762"),r("2fdb"),r("28a5"),r("8055")),R=r.n(x),$=r("f3e7"),P=r("a002"),S=r.n(P),T="set_socket",C="set_dropped",D="set_active_room",M="set_user_gather",N="set_friend_gather",E="set_group_gather",A="add_group_message",B="set_group_messages",U="add_friend_message",H="set_friend_messages",z="del_group",F="del_group_member",L="del_friend",q="set_unread_gather",J="lose_unread_gather",V="revoke_message",Q="user_online",W="user_offline",Z="add_group_member",K="update_user_info";function X(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Y(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}function Y(e,t){if(e){if("string"===typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var te,re={connectSocket:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,o,u,s,i,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,n=t.state,o=t.dispatch,u=t.rootState,s=u.app,i=s.user,d=s.token,p=R.a.connect("ws://".concat("http://localhost:3000".split("http://")[1]),{reconnection:!0,query:{token:d,userId:i.userId}}),p.on("unauthorized",(function(e){a.a.prototype.$message.error(e),r("app/".concat(f["a"]),{},{root:!0}),setTimeout((function(){window.location.reload()}),1e3)})),p.on("connect",Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:p.emit("chatData",d),r(T,p);case 3:case"end":return e.stop()}}),e)})))),p.on("userOnline",(function(e){r(Q,e.data)})),p.on("userOffline",(function(e){r(W,e.data)})),p.on("addGroup",(function(e){if(e.code)return a.a.prototype.$message.error(e.msg);a.a.prototype.$message.success(e.msg),r(E,e.data),r("app/".concat(f["d"]),!1,{root:!0})})),p.on("joinGroup",function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var o,s,c,g,m,l,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.code){e.next=2;break}return e.abrupt("return",a.a.prototype.$message.error(t.msg));case 2:if(o=t.data,s=o.invited,c=o.group,g=o.userId,!s){e.next=17;break}if(m=t.data.friendIds,!m.includes(i.userId)||n.groupGather[c.groupId]){e.next=10;break}p.emit("chatData",d),e.next=15;break;case 10:if(g!==i.userId){e.next=15;break}return r(Z,{groupId:c.groupId,members:Object.values(n.friendGather).filter((function(e){return m.includes(e.userId)}))}),l=n.groupGather,r(D,l[c.groupId]),e.abrupt("return",a.a.prototype.$message.info(t.msg));case 15:e.next=26;break;case 17:if(b=t.data.user,b.online=1,b.userId===u.app.user.userId){e.next=22;break}return r(Z,{groupId:c.groupId,members:[b]}),e.abrupt("return",a.a.prototype.$message.info("".concat(b.username,"加入群").concat(c.groupName)));case 22:n.groupGather[c.groupId]||(r(E,c),p.emit("chatData",d)),a.a.prototype.$message.info("成功加入群".concat(c.groupName)),r(D,n.groupGather[c.groupId]),r("app/".concat(f["d"]),!1,{root:!0});case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p.on("joinGroupSocket",(function(e){if(e.code)return a.a.prototype.$message.error(e.msg);var t=e.data.user;t.online=1;var o=e.data.group,u=n.groupGather[o.groupId];u.members.find((function(e){return e.userId===t.userId}))||(t.isManager=0,u.members.push(t),a.a.prototype.$message.info(e.msg)),r(M,t)})),p.on("groupMessage",(function(e){if(e.code)a.a.prototype.$message.error(e.msg);else{r(A,e.data);var t=n.activeRoom;t&&t.groupId!==e.data.groupId&&r(q,e.data.groupId)}})),p.on("addFriend",(function(e){e.code?a.a.prototype.$message.error(e.msg):(r(N,e.data),r(M,e.data),a.a.prototype.$message.info(e.msg),p.emit("joinFriendSocket",{userId:i.userId,friendId:e.data.userId})),r("app/".concat(f["d"]),!1,{root:!0})})),p.on("joinFriendSocket",(function(e){n.activeRoom||r(D,n.friendGather[e.data.friendId]),e.code})),p.on("friendMessage",function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.code){e.next=16;break}if(t.data.friendId!==i.userId&&t.data.userId!==i.userId){e.next=14;break}return r(U,t.data),e.next=7,S.a.getItem("".concat(i.userId,"-deletedChatId"));case 7:if(o=e.sent,!o){e.next=12;break}return o=t.data.friendId===i.userId?o.filter((function(e){return e!==t.data.userId})):o.filter((function(e){return e!==t.data.friendId})),e.next=12,S.a.setItem("".concat(i.userId,"-deletedChatId"),o);case 12:u=n.activeRoom,u&&u.userId!==t.data.userId&&u.userId!==t.data.friendId&&r(q,t.data.userId);case 14:e.next=17;break;case 16:a.a.prototype.$message.error(t.msg);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p.on("chatData",(function(e){if(e.code)return a.a.prototype.$message.error(e.msg);o("handleChatData",e.data),r(C,!1)})),p.on("exitGroup",(function(e){e.code?e.data.userId===i.userId&&a.a.prototype.$message.error(e.msg):e.data.userId===i.userId?(r(z,e.data),r(D,n.groupGather[$["b"]]),a.a.prototype.$message.success(e.msg)):r(F,e.data)})),p.on("updateGroupInfo",(function(e){if(!e.code){var t=n.groupGather[e.data.groupId];t&&(t.groupName=e.data.groupName,t.notice=e.data.notice,n.activeRoom.groupId&&(n.activeRoom.groupName=e.data.groupName,n.activeRoom.notice=e.data.notice),e.data.userId===i.userId&&a.a.prototype.$message.success(e.msg))}})),p.on("updateUserInfo",(function(e){e.code||r(K,e.data)})),p.on("exitFriend",(function(e){e.code?a.a.prototype.$message.error(e.msg):(r(L,e.data),r(D,n.groupGather[$["b"]]),a.a.prototype.$message.success(e.msg))})),p.on("revokeMessage",(function(e){e.code?a.a.prototype.$message.error(e.msg):r(V,e.data)}));case 20:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),handleChatData:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,o,u,s,c,i,d,f,p,g,m,l,b,h,v,y,I,O,j,k;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,t.dispatch,a=t.state,o=t.rootState,u=o.app.user,s=a.socket,c=a.groupGather,i=r.groupData,d=r.friendData,f=r.userData,i.length){p=X(i);try{for(p.s();!(g=p.n()).done;)m=g.value,s.emit("joinGroupSocket",{groupId:m.groupId,userId:u.userId}),n(E,m)}catch(w){p.e(w)}finally{p.f()}}if(d.length){l=X(d);try{for(l.s();!(b=l.n()).done;)h=b.value,s.emit("joinFriendSocket",{userId:u.userId,friendId:h.userId}),n(N,h)}catch(w){l.e(w)}finally{l.f()}}if(f.length){v=X(f);try{for(v.s();!(y=v.n()).done;)I=y.value,n(M,I)}catch(w){v.e(w)}finally{v.f()}}if(O=a.activeRoom,j=a.groupGather,k=a.friendGather,O){e.next=18;break}return e.abrupt("return",n(D,c[$["b"]]));case 18:n(D,j[O.groupId]||k[O.userId]);case 19:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},ne=re;function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue=(te={},Object(s["a"])(te,T,(function(e,t){e.socket=t})),Object(s["a"])(te,C,(function(e,t){e.dropped=t})),Object(s["a"])(te,Q,(function(e,t){e.friendGather[t]&&a.a.set(e.friendGather[t],"online",1),Object.values(e.groupGather).forEach((function(e){var r=e.members.find((function(e){return e.userId===t}));r&&(r.online=1)}))})),Object(s["a"])(te,W,(function(e,t){e.friendGather[t]&&a.a.set(e.friendGather[t],"online",0),Object.values(e.groupGather).forEach((function(e){var r=e.members.find((function(e){return e.userId===t}));r&&(r.online=0)}))})),Object(s["a"])(te,Z,(function(e,t){var r=t.members.map((function(e){return oe(oe({},e),{},{isManager:0})}));e.groupGather[t.groupId].members&&r?e.groupGather[t.groupId].members=e.groupGather[t.groupId].members.concat(r):a.a.set(e.groupGather[t.groupId],"members",r)})),Object(s["a"])(te,A,(function(e,t){e.groupGather[t.groupId].messages?e.groupGather[t.groupId].messages.push(t):a.a.set(e.groupGather[t.groupId],"messages",[t])})),Object(s["a"])(te,B,(function(e,t){t&&t.length&&a.a.set(e.groupGather[t[0].groupId],"messages",t)})),Object(s["a"])(te,U,(function(e,t){var r=this.getters["app/user"].userId;t.friendId===r?e.friendGather[t.userId].messages?e.friendGather[t.userId].messages.push(t):a.a.set(e.friendGather[t.userId],"messages",[t]):e.friendGather[t.friendId].messages?e.friendGather[t.friendId].messages.push(t):a.a.set(e.friendGather[t.friendId],"messages",[t])})),Object(s["a"])(te,H,(function(e,t){var r=this.getters["app/user"].userId;t&&t.length&&(t[0].friendId===r?a.a.set(e.friendGather[t[0].userId],"messages",t):a.a.set(e.friendGather[t[0].friendId],"messages",t))})),Object(s["a"])(te,D,(function(e,t){e.activeRoom=t})),Object(s["a"])(te,E,(function(e,t){a.a.set(e.groupGather,t.groupId,t)})),Object(s["a"])(te,M,(function(e,t){a.a.set(e.userGather,t.userId,t)})),Object(s["a"])(te,N,(function(e,t){a.a.set(e.friendGather,t.userId,t)})),Object(s["a"])(te,K,(function(e,t){var r=t.userId,n=t.username,a=t.avatar,o=e.userGather,u=e.friendGather;o[r]&&(o[r].username=n,o[r].avatar=a),u[r]&&(u[r].username=n,u[r].avatar=a)})),Object(s["a"])(te,z,(function(e,t){a.a.delete(e.groupGather,t.groupId)})),Object(s["a"])(te,F,(function(e,t){var r=e.groupGather[t.groupId];r&&(r.members=r.members.filter((function(e){return e.userId!==t.userId})))})),Object(s["a"])(te,L,(function(e,t){a.a.delete(e.friendGather,t.friendId)})),Object(s["a"])(te,q,(function(e,t){document.title="【有未读消息】TylooChat聊天室",e.unReadGather[t]?++e.unReadGather[t]:a.a.set(e.unReadGather,t,1)})),Object(s["a"])(te,J,(function(e,t){document.title="TylooChat聊天室",a.a.set(e.unReadGather,t,0)})),Object(s["a"])(te,V,(function(e,t){var r=this.getters["app/user"].userId;if(t.groupId){var n=e.groupGather[t.groupId].messages;if(n){var o=n.find((function(e){return e._id===t._id}));o&&(a.a.set(o,"isRevoke",!0),a.a.set(o,"revokeUserName",t.username))}}else{var u=e.friendGather[t.friendId===r?t.userId:t.friendId].messages;if(u){var s=u.find((function(e){return e._id===t._id}));s&&(a.a.set(s,"isRevoke",!0),a.a.set(s,"revokeUserName",t.username))}}})),te),se=ue,ce={socket:function(e){return e.socket},dropped:function(e){return e.dropped},activeRoom:function(e){return e.activeRoom},groupGather:function(e){return e.groupGather},friendGather:function(e){return e.friendGather},userGather:function(e){return e.userGather},unReadGather:function(e){return e.unReadGather}},ie=ce,de={socket:null,dropped:!1,activeRoom:null,groupGather:{},userGather:{},friendGather:{},unReadGather:{}},fe=de,pe={namespaced:!0,state:fe,mutations:se,actions:ne,getters:ie},ge=pe;a.a.use(u.a);var me={app:_,chat:ge};t["a"]=new u.a.Store({modules:me})},"0907":function(e,t,r){"use strict";var n=r("cebe"),a=r.n(n),o=r("a78e"),u=r.n(o),s=r("8bbf"),c=r.n(s),i=r("0613"),d=r("946b"),f=function(e){var t=u.a.get("token");return e.headers.token=t,e},p=function(e){return i["a"].commit("app/".concat(d["d"]),!1),c.a.prototype.$message.error(e.message),Promise.reject(e)},g=function(e){var t=e.data;return 401===t.code&&(c.a.prototype.$message.error(t.msg),i["a"].commit("app/".concat(d["a"])),setTimeout((function(){window.location.reload()}),2e3)),e},m=function(e){return i["a"].commit("app/".concat(d["d"]),!1),c.a.prototype.$message.error(e.message),Promise.reject(e)},l=a.a.create({timeout:6e4,baseURL:"http://localhost:3000",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},withCredentials:!1});l.interceptors.request.use(f,p),l.interceptors.response.use(g,m);t["a"]=l},1:function(e,t){},"3ecb":function(e,t,r){},"48b8":function(e,t,r){"use strict";r.d(t,"g",(function(){return o})),r.d(t,"b",(function(){return u})),r.d(t,"e",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return d})),r.d(t,"f",(function(){return f}));r("3b2b");var n=r("8bbf"),a=r.n(n);function o(e){var t=e.data,r=t.code,n=t.msg,o=t.data;if(!r)return n&&a.a.prototype.$message.success(n),o;a.a.prototype.$message.error(n)}function u(e,t){return t.indexOf(e)>=0}function s(e){return e}function c(e){var t=new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/);return t.test(e)}function i(e){var t=a.a.prototype.$moment;return t().add(-1,"days").startOf("day")>e?t(e).format("M/D HH:mm"):t().startOf("day")>e?"昨天 ".concat(t(e).format("HH:mm")):t(e).format("HH:mm")}function d(e){var t=/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/;return 0===e.length?(a.a.prototype.$message.error("请输入名字"),!1):t.test(e)?!(e.length>16)||(a.a.prototype.$message.error("名字太长"),!1):(a.a.prototype.$message.error("名字只含有汉字、字母、数字和下划线 不能以下划线开头和结尾"),!1)}function f(e){var t=/^[0-9A-Z_a-z]+$/gi;return 0===e.length?(a.a.prototype.$message.error("请输入密码"),!1):t.test(e)?!(e.length>16)||(a.a.prototype.$message.error("密码最多16位,请重新输入"),!1):(a.a.prototype.$message.error("密码只含有字母、数字和下划线"),!1)}},5880:function(e,t){e.exports=Vuex},"5c0b":function(e,t,r){"use strict";r("3ecb")},"60bb":function(e,t){e.exports=_},6389:function(e,t){e.exports=VueRouter},"8bbf":function(e,t){e.exports=Vue},"946b":function(e,t,r){"use strict";r.d(t,"g",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"e",(function(){return u})),r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"d",(function(){return i}));var n="set_user",a="clear_user",o="set_token",u="set_mobile",s="set_background",c="set_activeTabName",i="set_loading"},c32d:function(e,t){e.exports=moment},cd49:function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("8bbf"),a=r.n(n),o=r("6944"),u=r.n(o),s=r("c32d"),c=r.n(s),i=r("d625"),d=r("60bb"),f=r.n(d),p=r("a002"),g=r.n(p),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("a-config-provider",{attrs:{locale:e.locale}},[r("router-view")],1),e.background?r("img",{staticClass:"background",attrs:{src:e.background,alt:""}}):e._e()],1)},l=[],b=(r("2397"),r("4917"),r("d225")),h=r("b0b4"),v=r("4e2b"),y=r("308d"),I=r("6bb5"),O=r("9ab4"),j=r("60a3"),k=r("4bb5"),w=r("f3e7"),G=r("677e"),_=r.n(G);function x(e){var t=R();return function(){var r,n=Object(I["a"])(e);if(t){var a=Object(I["a"])(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(y["a"])(this,r)}}function R(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var $=Object(k["a"])("app"),P=function(e){Object(v["a"])(r,e);var t=x(r);function r(){var e;return Object(b["a"])(this,r),e=t.apply(this,arguments),e.locale=_.a,e}return Object(h["a"])(r,[{key:"mounted",value:function(){this.setMobile(this.isMobile()),this.background&&this.background.trim().length||this.set_background(w["a"])}},{key:"isMobile",value:function(){var e=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return e&&e.length}}]),r}(j["c"]);Object(O["a"])([$.Getter("background")],P.prototype,"background",void 0),Object(O["a"])([$.Mutation("set_mobile")],P.prototype,"setMobile",void 0),Object(O["a"])([$.Mutation("set_background")],P.prototype,"set_background",void 0),P=Object(O["a"])([j["a"]],P);var S=P,T=S,C=(r("5c0b"),r("0c7c")),D=Object(C["a"])(T,m,l,!1,null,null,null),M=D.exports,N=r("6389"),E=r.n(N);a.a.use(E.a);var A=[{path:"/",name:"Chat",component:function(){return r.e("chunk-8fcc33e0").then(r.bind(null,"293a"))}}],B=new E.a({mode:"history",base:"",routes:A}),U=B,H=r("0613"),z=(r("0808"),r("3aed"),r("27fd")),F=r("5efb"),L=r("b558"),q=r("ed3b"),J=r("3af3"),V=r("bb76"),Q=r("0c63"),W=r("ccb9e"),Z=r("681b"),K=r("a600"),X=r("55f1"),Y=r("cdeb"),ee=r("9839"),te=r("39ab"),re=r("f933"),ne=r("9571"),ae=r("768f"),oe=r("a071"),ue=r("d865"),se=r("dfae"),ce=r("7b2d"),ie=r("4df5"),de=r("2c92"),fe=r("f64c");a.a.use(z["a"]),a.a.use(F["a"]),a.a.use(L["a"]),a.a.use(q["a"]),a.a.use(J["a"]),a.a.use(V["a"]),a.a.use(Q["a"]),a.a.use(W["a"]),a.a.use(Z["a"]),a.a.use(K["a"]),a.a.use(X["a"]),a.a.use(Y["a"]),a.a.use(ee["a"]),a.a.use(te["a"]),a.a.use(re["a"]),a.a.use(ne["a"]),a.a.use(ae["a"]),a.a.use(oe["a"]),a.a.use(ue["a"]),a.a.use(se["a"]),a.a.use(ce["a"]),a.a.use(ie["a"]),a.a.use(de["a"]),a.a.prototype.$message=fe["a"];r("64d2");a.a.use(i["a"]),a.a.config.productionTip=!1,a.a.prototype.$moment=c.a,a.a.prototype.$lodash=f.a,a.a.prototype.$localforage=g.a,a.a.use(u.a,{defaultOptions:{navbar:!1,title:!1,toolbar:{zoomIn:1,zoomOut:1,oneToOne:4,reset:4,prev:0,next:0,rotateLeft:4,rotateRight:4,flipHorizontal:4,flipVertical:4}}}),new a.a({router:U,store:H["a"],render:function(e){return e(M)}}).$mount("#app")},cebe:function(e,t){e.exports=axios},f3e7:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"f",(function(){return c})),r.d(t,"e",(function(){return i}));var n="";n="https://pic.downk.cc/item/5fc744ea394ac5237897a81d.jpg";var a="group",o=n,u="robot",s="/static/file/",c=["xls","xlsx","doc","docx","exe","pdf","ppt","txt","zip","img","rar"],i=["png","jpg","jpeg","gif"]}});